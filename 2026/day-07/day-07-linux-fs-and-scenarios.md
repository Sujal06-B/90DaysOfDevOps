# Day 07 – Linux File System Hierarchy & Scenario-Based Practice

---

## Part 1: File System Hierarchy

This section explains the Linux directory structure in a simple way so that beginners can understand **where files, configurations, logs, and commands are stored**. Knowing this helps a DevOps engineer quickly troubleshoot issues in real systems.

## Part 1: File System Hierarchy

### / (root)

**Purpose:** This is the top-level directory in Linux. Every file and folder in the system comes under this directory directly or indirectly.

**Command used:**

```bash
ls -l /
```

**Observed:** bin, etc, home, var, usr

**I would use this when:** I want a high-level view of the entire Linux system structure.

---

### /home

**Purpose:** This directory contains home folders for all normal users. Each user gets their own folder to store personal files.

**Command used:**

```bash
ls -l /home
```

**Observed:** user directories like user1, ubuntu

**I would use this when:** Checking user data, scripts, downloads, or configuration files inside a user account.

---

### /root

**Purpose:** Home directory of the root (administrator) user.

**Command used:**

```bash
ls -l /root
```

**Observed:** root configuration files

**I would use this when:** Performing administrative tasks as root.

---

### /etc

**Purpose:** This directory stores important configuration files for the system and installed services. These files control how services behave.

**Command used:**

```bash
ls -l /etc
```

**Observed:** hostname, hosts, ssh, passwd

**I would use this when:** Troubleshooting service configuration issues or changing system settings.

---

### /var/log

**Purpose:** This directory contains log files generated by the system and applications. Logs are very important for debugging.

**Command used:**

```bash
ls -l /var/log
```

**Observed:** syslog, auth.log, kern.log

**I would use this when:** Investigating errors, crashes, or service failures in production.

---

### /tmp

**Purpose:** Stores temporary files created by applications.

**Command used:**

```bash
ls -l /tmp
```

**Observed:** temporary files

**I would use this when:** Storing short-lived temporary data.

---

### Additional Directories (Good to Know)

### /bin

**Purpose:** Contains essential Linux command binaries.

**Observed:** ls, cp, mv

**I would use this when:** Running basic Linux commands.

---

### /usr/bin

**Purpose:** Contains user-level command binaries.

**Observed:** git, python

**I would use this when:** Running user-installed programs.

---

### /opt

**Purpose:** Stores optional or third-party applications.

**Observed:** external applications

**I would use this when:** Installing third-party software.

---

### Hands-on Commands

**Find largest log files:**

```bash
du -sh /var/log/* 2>/dev/null | sort -h | tail -5
```

**View a config file:**

```bash
cat /etc/hostname
```

**Check home directory:**

```bash
ls -la ~
```

---

## Part 2: Scenario Practice

This section focuses on **real-world troubleshooting scenarios**. The goal is not to memorize commands, but to understand the logical order: check status → check logs → verify configuration or permissions.

## Part 2: Scenario Practice

### Scenario 1: Service Not Starting

**Step 1:**

```bash
systemctl status myapp
```

**Why:** To check if the service is running or failed.

**Step 2:**

```bash
journalctl -u myapp -n 50
```

**Why:** To see error messages in logs.

**Step 3:**

```bash
systemctl is-enabled myapp
```

**Why:** To check if service starts on boot.

**Step 4:**

```bash
systemctl list-units --type=service | grep myapp
```

**Why:** To confirm the service exists.

---

### Scenario 2: High CPU Usage

**Problem:** The server feels slow and applications are responding slowly.

**Step 1:**

```bash
top
```

**Why:** Displays live CPU usage and helps quickly identify which process is consuming most CPU.

**Step 2:**

```bash
ps aux --sort=-%cpu | head -10
```

**Why:** Shows the top CPU-consuming processes in sorted order.

**Step 3:**

```bash
ps -p <PID> -f
```

**Why:** Gives detailed information about the suspicious process using high CPU.

---

### Scenario 3: Finding Service Logs (Docker)

**Step 1:**

```bash
systemctl status docker
```

**Why:** Check Docker service status.

**Step 2:**

```bash
journalctl -u docker -n 50
```

**Why:** View recent Docker logs.

**Step 3:**

```bash
journalctl -u docker -f
```

**Why:** Follow logs in real time.

---

### Scenario 4: File Permission Issue

**Step 1:**

```bash
ls -l /home/user/backup.sh
```

**Why:** Check file permissions.

**Step 2:**

```bash
chmod +x /home/user/backup.sh
```

**Why:** Add execute permission.

**Step 3:**

```bash
ls -l /home/user/backup.sh
```

**Why:** Verify permission change.

**Step 4:**

```bash
./backup.sh
```

**Why:** Run the script.

  : conver this into markdown file  
